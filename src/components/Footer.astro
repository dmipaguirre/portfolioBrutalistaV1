---
import "../styles/global.css";

// 1. Definimos tus palabras distintas
const words = [
  "Miguel Páez",
  "Miguel Páez", 
  "Miguel Páez",
  "Miguel Páez",
];

// 2. Duplicamos el array para crear el efecto bucle infinito
// Al poner [...words, ...words], tenemos la lista dos veces seguida.
const carouselContent = [...words, ...words];
---

<footer class="footer-container" aria-hidden="true">
  <div class="carrusel-track">
    {carouselContent.map((text) => (
      <div class="carrusel-item">
        <p>{text}<span class="spacer">—</span></p>
      </div>
    ))}
  </div>
</footer>

<style>
  .footer-container {
    width: 100%;
    border-top: 1px solid var(--line, #ccc);
    padding: 1rem 0;
    position: relative;
    overflow: hidden;
    background: var(--bg-color, transparent);
  }

  .carrusel-track {
    display: flex;
    width: max-content; /* El ancho se ajusta al contenido total */
    /* La magia: movemos el track la mitad de su tamaño total */
    animation: scroll-left 20s linear infinite;
    will-change: transform;
  }

  /* Pausar animación al pasar el mouse (opcional, buen detalle UX) */
  .footer-container:hover .carrusel-track {
    animation-play-state: paused;
  }

  .carrusel-item {
    display: flex;
    align-items: center;
    opacity: 0.1; /* Opacidad aplicada aquí */
    flex-shrink: 0; /* Evita que los items se aplasten */
  }

  .carrusel-item p {
    font-size: clamp(1.5rem, 4vw, 4rem);
    white-space: nowrap;
    font-weight: 700;
    text-transform: uppercase;
    margin: 0;
    font-family: var(--font-mono, sans-serif);
    display: flex; /* Para alinear el guion */
  }

  .spacer {
    padding: 0 2vw;
    font-weight: 300;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      /* IMPORTANTE: Movemos -50% porque el contenedor tiene 
         la lista duplicada (2 sets). Al llegar al 50%, 
         el inicio del "Set 2" está exactamente donde empezó el "Set 1",
         haciendo el reinicio invisible.
      */
      transform: translateX(-50%);
    }
  }
</style>